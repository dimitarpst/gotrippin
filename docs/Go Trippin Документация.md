**ТЕМА**

Go Trippin' – интелигентна разпределена платформа за съвместно планиране, организиране и споделяне на пътувания и маршрути

**АВТОРИ**

* **Име, Презиме, Фамилия:** Димитър Петков Стоянов  
* **ЕГН:** 0744027909  
* **Адрес:** гр. Бургас, ж.к. Изгрев, бл. 18, вх. 2, ет. 3, ап. 8  
* **Телефон:** 0895388827  
* **Имейл:** dimmitar.petkovv@gmail.com  
* **Училище:** ПГЕЕ „Константин Фотинов“  
* **Клас:** 12б

**РЪКОВОДИТЕЛ**

* **Име, Презиме, Фамилия:** Станко Янев  
* **Телефон:** [попълни]  
* **Имейл:** stanko....@edu.mon.bg  
* **Длъжност:** Учител

---

**РЕЗЮМЕ**

**4.1. Цели**  

Основната цел на проекта е разработването на интелигентна платформа за съвместно планиране на пътувания, насочена към потребители на възраст 18–60 години. Системата функционира като активен асистент, управляван от специализиран AI оператор със сесийна памет, който подпомага потребителите при създаване, организиране и споделяне на техните пътувания чрез методологията „Route-First Planning“ (планиране, водено от маршрута).

**Кратък анализ на потребностите:**
* **Фрагментация:** Планирането често се разпръсква между чатове и електронни таблици, което води до загуба на контекст.  
* **Сложна логистика:** Липсва визуализация, обединяваща маршрут, активности и метеорологична прогноза на едно място.  
* **Нужда от активна помощ:** Търсенето на дестинации изисква ръчно проучване, вместо да е автоматизирано от интелигентен асистент.

**Съществуващи решения:**
* **Wanderlog / TripIt:** Сложни интерфейси; AI модулите им са само консултативни и не редактират директно маршрута.  
* **Notion / Excel:** Изискват ръчно въвеждане, без интеграция с карти и външни API услуги.  

**4.2. Основни етапи в реализирането на проекта**  

Процесът е организиран в технологични фази чрез структуриран Todo+ workflow:

1. **Планиране и дизайн:** Дефиниране на монорепо архитектура и проектиране на "Route-First" модел.  
2. **База данни и споделено ядро:** Реализиране на many-to-many релация за съвместна работа (`trip_members`) и централизиране на TypeScript типове и Zod валидации в споделен пакет (`@gotrippin/core`).  
3. **Техническа реализация:** Изграждане на Backend (NestJS) с модулна структура и Frontend (Next.js) с хибридно рендиране (Server/Client Components).  
4. **Тестване и внедряване:** Автоматизация чрез GitHub Actions (CI/CD) и деплой на сигурна инфраструктура със SSL.

**4.3. Ниво на сложност на проекта**  

Реализацията на платформата решава няколко критични архитектурни проблема:

* **Алгоритъм за пренареждане на маршрути (Two-Phase Reordering):** За да се избегнат конфликти с уникалния индекс `(trip_id, order_index)` при липса на SQL трансакции през REST, е разработен двуфазен алгоритъм. Локациите първо се местят в отрицателно пространство, след което се връщат в желания положителен ред.  
* **Интегритет при AI операции:** AI операторът работи чрез "whitelist" от инструменти (tools), които мапват към съществуващи API ендпойнти. Входът се валидира със Zod схеми, а сесийната памет ("slot store") пази контекста и предотвратява неоторизиран достъп.  
* **Многопотребителска сигурност:** Реализирана на два слоя – Row-Level Security (RLS) в PostgreSQL за филтриране на данните на ниво база и допълнителна верификация на членството в NestJS слоя.

**4.4. Логическо и функционално описание на решението**  

Системата е изградена върху **Client–Server модел** с ясно разграничени слоеве:

1. **Презентационен слой (Frontend \- apps/web):** Изграден с Next.js 16 и React 19. Използва Server Components за първоначално извличане на данни (списъци с пътувания) за оптимизирано SEO и бързо зареждане, докато Client Components управляват интерактивни елементи като *Route Builder* и AI чат.  
2. **Логически слой (Backend \- apps/backend):** Реализиран с NestJS 10, капсулира бизнес логиката чрез модулен подход и Dependency Injection. 
   * Модул `trips` управлява пътуванията и 8-символните share кодове.  
   * Модул `trip-locations` поддържа интегритета на маршрутите.  
   * Модули `weather` и `images` действат като сървърни проксита към Tomorrow.io и Unsplash.  
3. **Слой за данни (Supabase):** PostgreSQL база данни, защитена с RLS политики, Storage за медийни файлове и Realtime двигател за мигновена синхронизация.

**Информационни потоци:**  
Комуникацията се осъществява чрез REST API, защитено с **JWT токени**. Пакетът `@gotrippin/core` служи като технологичен мост, гарантирайки, че една и съща логика за валидация (Zod) се прилага във фронтенда, бекенда и AI оператора. Съвместната работа се осигурява чрез **Supabase Realtime subscriptions**.

**4.5. Реализация и технологична обосновка**  

* **Frontend:** Next.js е избран заради поддръжката на React Server Components. Framer Motion осигурява плавни анимации, а `shadcn/ui` и Radix UI гарантират достъпност (ARIA стандарти) и клавиатурна навигация.  
* **Backend:** NestJS предлага строга архитектура. Zod заменя традиционния `class-validator`, тъй като позволява споделяне на схемите с фронтенда. Интегрирани са Passport и `passport-jwt` за автентикация в синхрон със Supabase Auth.  
* **Качество на кода:** Проектът е строго типизиран (TypeScript strict mode). ESLint и Prettier гарантират единен стил, а GitHub Actions автоматизират linting, typecheck и build процесите при всяка промяна (CI/CD).

**4.6. Описание на приложението**  

* **Онлайн достъп:** Платформата е напълно разгърната и достъпна на [https://gotrippin.app](https://gotrippin.app) (Frontend) и [https://api.gotrippin.app](https://api.gotrippin.app) (Backend).  
* **Инсталация (локално):** Клониране на репозиторито, изпълнение на `npm install` (изгражда споделения пакет `@gotrippin/core`), настройка на `.env` файлове и стартиране с `npm run dev`.  
* **Използване:** Потребителят създава пътуване през wizard интерфейс. Чрез **Route Builder** (базиран на `@dnd-kit`) добавя и пренарежда локации чрез drag-and-drop. Чат интерфейсът позволява комуникация с AI оператора за модифициране на пътуването в реално време. Споделянето става чрез уникален 8-символен код.  

*Тестови акаунти:*  
* Администратор: `admin@gotrippin.app` / `*********`  
* Потребител: `user@gotrippin.app` / `*********`

**4.7. Заключение**  

**Go Trippin’** е завършена интелигентна уеб платформа, реализираща иновативната концепция за Route-First Planning и AI-асистирано планиране. Модерната монорепо архитектура гарантира сигурност, висока производителност и мащабируемост, предлагайки стабилна среда за съвместна работа.

**Възможности за развитие:**  
1. **Екосистема:** Превръщане на Go Trippin’ в отворена платформа с API и партньорски интеграции, където AI операторът играе ролята на централен оркестратор за всички клиенти.  
2. **Real-time колаборация:** Пълно внедряване на индикатори за присъствие („кой редактира в момента“) и мигновена синхронизация на промените.  
3. **Mobile App:** Разработка на мобилно приложение с React Native, споделящо бизнес логиката от `@gotrippin/core`.  
4. **Trip Command Center:** Интеграция с външни услуги за резервации (полети, хотели, транспорт) в единен контролен панел.